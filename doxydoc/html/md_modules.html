<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-type: modules</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">R-type
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">modules</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Game Library Integration Technical Documentation</h1>
<p>For this project of R-type, our program works thanks to diferrent modules: Network, Graphics, Clock, Game Core, and Components. This doccument will explan how to make these modules for them to work with our programm. <b>Table of Contents</b> </p><pre class="fragment">Network Interface (INetwork)
Graphics Interface (engine::displayManager)
Clock Module (clock)
Game Core (Game)
Component Interface (IComponent)
</pre><ol type="1">
<li><b>Network Interface</b></li>
</ol>
<p>The INetwork class defines a networking interface for communication between the players and the server. It should be able to send message, as well as encode them, decode and decode and receive message from the other composant. </p><h2>Interface Definition</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>INetwork {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~INetwork() {}</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> start() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> stop() = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> send(<span class="keyword">const</span> std::vector&lt;uint8_t&gt;&amp; data, <span class="keyword">const</span> std::string&amp; address, uint16_t port) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> setReceiveHandler(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> std::vector&lt;uint8_t&gt;&amp; data, <span class="keyword">const</span> std::string&amp; address, uint16_t port)&gt; handler) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> setClientConnectedHandler(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> std::string&amp; address, uint16_t port)&gt; handler) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> setClientDisconnectedHandler(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> std::string&amp; address, uint16_t port)&gt; handler) = 0;</div>
<div class="line">};</div>
</div><!-- fragment --><h2>Function Descriptions</h2>
<pre class="fragment">start(): Initializes and starts the network service.
stop(): Shuts down the network service and disconnects all clients.
send(): Transmits data to a specified address and port.
setReceiveHandler(): Sets a callback function for handling incoming data.
setClientConnectedHandler(): Sets a callback function for managing newly connected clients.
setClientDisconnectedHandler(): Sets a callback function for managing client disconnections.
</pre> <h2>Notes for Implementation</h2>
<pre class="fragment">The network library should handle connection management autonomously after starting.
Callback handlers should be invoked asynchronously to prevent blocking the game loop.
</pre><ol type="1">
<li><b>Graphics Interface</b></li>
</ol>
<p>The <a class="el" href="classengine_1_1displayManager.html">engine::displayManager</a> class provides an interface for graphical management, including asset handling, window management, and rendering. It could be linked to any type of graphic library, 2D or 3D. It will just generate the display and receive the player events, but not do anything with those. </p><h2>Interface Definition</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceengine.html">engine</a> {</div>
<div class="line">    <span class="keyword">class </span>displayManager {</div>
<div class="line">        <span class="keyword">public</span>:</div>
<div class="line">            <a class="code hl_function" href="classengine_1_1displayManager.html#a9ab798d65e7298345526b268338c13bb">displayManager</a>();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#ab94911798f48efa65920b73c0f89e9a5">registerAsset</a>(<span class="keyword">const</span> std::string &amp;, <span class="keyword">const</span> std::string &amp;);</div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#ab94911798f48efa65920b73c0f89e9a5">registerAsset</a>(<span class="keyword">const</span> std::string &amp;, <span class="keyword">const</span> std::shared_ptr&lt;grw::texture&gt; &amp;);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#a3fb474eec30d353d63468ca0fd81471e">addWindow</a>(<a class="code hl_class" href="classgrw_1_1window.html">grw::window</a> *);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">bool</span> <a class="code hl_function" href="classengine_1_1displayManager.html#ae23b0da7511b9cde5a0e5a97d12f3707">event</a>(<span class="keywordtype">void</span>);</div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#ace16a635c6b05f1f1bf34a616758ec6a">update</a>(<span class="keywordtype">void</span>);</div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#a77c0ce13568977ebcf3e07e1e6896474">draw</a>(<span class="keywordtype">void</span>);</div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#a996987b3171891ff0ae725fb11db0815">clear</a>(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classengine_1_1displayManager.html#aead1299fa5592d1d93b92977bc55d4de">createWindow</a>(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordtype">void</span> <a class="code hl_function" href="classengine_1_1displayManager.html#a6ef5010454ea263b8d0a6298e0ea6ba0">useEntity</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structEntity.html">Entity</a> &amp;, Registry &amp;, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);</div>
<div class="line">        <span class="keyword">private</span>:</div>
<div class="line">            <a class="code hl_class" href="classgrw_1_1windowHandler.html">grw::windowHandler</a> _winHandler;</div>
<div class="line"> </div>
<div class="line">            std::map&lt;unsigned int, std::vector&lt;grw::sprite&gt;&gt; _rendering;</div>
<div class="line">            std::map&lt;std::string, std::shared_ptr&lt;grw::texture&gt;&gt; _textures;</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="ttc" id="aclassengine_1_1displayManager_html_a3fb474eec30d353d63468ca0fd81471e"><div class="ttname"><a href="classengine_1_1displayManager.html#a3fb474eec30d353d63468ca0fd81471e">engine::displayManager::addWindow</a></div><div class="ttdeci">void addWindow(grw::window *)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:19</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_a6ef5010454ea263b8d0a6298e0ea6ba0"><div class="ttname"><a href="classengine_1_1displayManager.html#a6ef5010454ea263b8d0a6298e0ea6ba0">engine::displayManager::useEntity</a></div><div class="ttdeci">void useEntity(const Entity &amp;, Registry &amp;, unsigned int)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:81</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_a77c0ce13568977ebcf3e07e1e6896474"><div class="ttname"><a href="classengine_1_1displayManager.html#a77c0ce13568977ebcf3e07e1e6896474">engine::displayManager::draw</a></div><div class="ttdeci">void draw(void)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:49</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_a996987b3171891ff0ae725fb11db0815"><div class="ttname"><a href="classengine_1_1displayManager.html#a996987b3171891ff0ae725fb11db0815">engine::displayManager::clear</a></div><div class="ttdeci">void clear(void)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:62</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_a9ab798d65e7298345526b268338c13bb"><div class="ttname"><a href="classengine_1_1displayManager.html#a9ab798d65e7298345526b268338c13bb">engine::displayManager::displayManager</a></div><div class="ttdeci">displayManager()</div><div class="ttdef"><b>Definition</b> displayManager.cpp:4</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_ab94911798f48efa65920b73c0f89e9a5"><div class="ttname"><a href="classengine_1_1displayManager.html#ab94911798f48efa65920b73c0f89e9a5">engine::displayManager::registerAsset</a></div><div class="ttdeci">void registerAsset(const std::string &amp;, const std::string &amp;)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:9</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_ace16a635c6b05f1f1bf34a616758ec6a"><div class="ttname"><a href="classengine_1_1displayManager.html#ace16a635c6b05f1f1bf34a616758ec6a">engine::displayManager::update</a></div><div class="ttdeci">void update(void)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:36</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_ae23b0da7511b9cde5a0e5a97d12f3707"><div class="ttname"><a href="classengine_1_1displayManager.html#ae23b0da7511b9cde5a0e5a97d12f3707">engine::displayManager::event</a></div><div class="ttdeci">bool event(void)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:74</div></div>
<div class="ttc" id="aclassengine_1_1displayManager_html_aead1299fa5592d1d93b92977bc55d4de"><div class="ttname"><a href="classengine_1_1displayManager.html#aead1299fa5592d1d93b92977bc55d4de">engine::displayManager::createWindow</a></div><div class="ttdeci">unsigned int createWindow(void)</div><div class="ttdef"><b>Definition</b> displayManager.cpp:27</div></div>
<div class="ttc" id="aclassgrw_1_1windowHandler_html"><div class="ttname"><a href="classgrw_1_1windowHandler.html">grw::windowHandler</a></div><div class="ttdef"><b>Definition</b> engineGraphic.hpp:165</div></div>
<div class="ttc" id="aclassgrw_1_1window_html"><div class="ttname"><a href="classgrw_1_1window.html">grw::window</a></div><div class="ttdef"><b>Definition</b> engineGraphic.hpp:127</div></div>
<div class="ttc" id="anamespaceengine_html"><div class="ttname"><a href="namespaceengine.html">engine</a></div><div class="ttdef"><b>Definition</b> engineAlgorithm.hpp:4</div></div>
<div class="ttc" id="astructEntity_html"><div class="ttname"><a href="structEntity.html">Entity</a></div><div class="ttdef"><b>Definition</b> RTypeGameLogic.hpp:28</div></div>
</div><!-- fragment --><h2>Function Descriptions</h2>
<pre class="fragment">registerAsset(): Loads assets either from a file path or as a texture object.
addWindow(): Adds a new window to the rendering system.
event(): Handles and processes window events.
update(): Updates the display, managing any animations or transformations.
draw(): Renders all current frames to the window.
clear(): Clears the display before the next rendering cycle.
createWindow(): Creates and registers a new window; returns an ID.
useEntity(): Links entities to the display, utilizing the Entity and Registry structures.
</pre> <h2>Notes for Implementation</h2>
<pre class="fragment">The displayManager should support multiple windows and scenes for a flexible game environment.
Implementations should handle frame management and synchronization to avoid visual glitches.
Texture and sprite management should be memory-efficient.
</pre><ol type="1">
<li><b>Clock Module</b></li>
</ol>
<p>The clock class provides a simple timing mechanism to manage game updates and frame timing. It will be implemented directly with the graphic module but also used by the program itself. The graphic will use it to be frame friendly and not have display lags, however, the game algorythm will work at the same speed even with diferrent frame settings. </p><h2>Interface Definition</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>clock {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        clock();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tick(<span class="keywordtype">int</span> = -1);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> _oldTime;</div>
<div class="line">};</div>
</div><!-- fragment --><h2>Function Descriptions</h2>
<pre class="fragment">tick(): Calculates and returns the elapsed time since the last call. If a parameter is provided, it sets the tick rate or time interval.
</pre> <h2>Notes for Implementation</h2>
<pre class="fragment">Implementations should ensure accurate timing for frame rate consistency.
tick() should be lightweight to minimize performance overhead during game updates.
</pre><ol type="1">
<li><b>Game Core</b></li>
</ol>
<p>The Game class serves as the primary game management core, handling scenes, objects, and game entities. Our version uses lua scripts and yaml scenes to handle everything, but it could be implemented directly in the game code if you want. </p><h2>Interface Definition</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>Game {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        Game();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> Scene &amp;getScene(<span class="keyword">const</span> std::string &amp;) <span class="keyword">const</span>;</div>
<div class="line">        <span class="keyword">const</span> ObjectRef &amp;getObject(<span class="keyword">const</span> std::string &amp;) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> registerScene(<span class="keyword">const</span> std::string &amp;);</div>
<div class="line">        <span class="keywordtype">void</span> registerScene(<span class="keyword">const</span> Scene &amp;);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> registerObject(<span class="keyword">const</span> std::string &amp;);</div>
<div class="line">        <span class="keywordtype">void</span> registerObject(<span class="keyword">const</span> ObjectRef &amp;);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> unregisterScene(<span class="keyword">const</span> std::string &amp;);</div>
<div class="line">        <span class="keywordtype">void</span> unregisterObject(<span class="keyword">const</span> std::string &amp;);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> loadObject(<span class="keyword">const</span> ObjectRef &amp;);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> loadScene(<span class="keyword">const</span> std::string &amp;);</div>
<div class="line">        <span class="keywordtype">void</span> unloadScene(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;Object&gt; &amp;getLoadedObjects(<span class="keywordtype">void</span>);</div>
<div class="line">        <span class="keyword">const</span> std::vector&lt;Object&gt; &amp;getLoadedHuds(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> addFactory(EntityFactory *);</div>
<div class="line">        <a class="code hl_class" href="classengine_1_1EntityFactory.html">engine::EntityFactory</a> *getFactory(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line">        Object buildObjectRef(<span class="keyword">const</span> ObjectRef &amp;, <span class="keyword">const</span> std::string &amp;);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        std::map&lt;std::string, ObjectRef&gt; _objects;</div>
<div class="line">        std::map&lt;std::string, Scene&gt; _scenes;</div>
<div class="line"> </div>
<div class="line">        std::vector&lt;Object&gt; _loadedGameObjects;</div>
<div class="line">        std::vector&lt;Object&gt; _loadedGameHuds;</div>
<div class="line"> </div>
<div class="line">        EntityFactory *_factory;</div>
<div class="line"> </div>
<div class="line">        std::string _loadedScene;</div>
<div class="line">};</div>
<div class="ttc" id="aclassengine_1_1EntityFactory_html"><div class="ttname"><a href="classengine_1_1EntityFactory.html">engine::EntityFactory</a></div><div class="ttdef"><b>Definition</b> engineCore.hpp:115</div></div>
</div><!-- fragment --><h2>Function Descriptions</h2>
<pre class="fragment">registerScene() and registerObject(): Registers a scene or object by name or reference.
unregisterScene() and unregisterObject(): Unregisters a scene or object.
loadObject(): Loads an object into the game.
loadScene() and unloadScene(): Loads or unloads a specific scene.
getLoadedObjects() and getLoadedHuds(): Returns lists of currently loaded game objects or HUD elements.
addFactory(): Adds a factory instance for creating entities.
</pre> <h2>Notes for Implementation</h2>
<pre class="fragment">Efficient memory management is critical, especially for large scenes and objects.
</pre><ol type="1">
<li><b>Component Interface</b></li>
</ol>
<p>The IComponent class represents individual game components, which can be used to assemble complex entities. Some examples can be size, position or sprite. It makes passing informations between the diferrent modules easier. </p><h2>Interface Definition</h2>
<div class="fragment"><div class="line"> ++</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>IComponent {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        IComponent() = <span class="keywordflow">default</span>;</div>
<div class="line">        <span class="keyword">virtual</span> ~IComponent() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">        std::string name;</div>
<div class="line">};</div>
</div><!-- fragment --><h2>Notes for implementation</h2>
<pre class="fragment">Each component should have a name identifier for easy retrieval and management.
</pre> <h2>Conclusion</h2>
<p>Following these specifications ensures compatibility with our R-type game system. Libraries implementing these interfaces should provide robust, efficient, and flexible functionality, allowing for seamless integration into our game engine. Make sure to adhere to the interface definitions and implement required functionalities precisely as described. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
